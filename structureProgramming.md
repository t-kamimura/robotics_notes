# 組み込みソフトウェア開発のための構造化プログラミング

## 良いソースコードとは

### シンプル

他の人が呼んでもわかりやすい，あるいは３ヶ月後や3年後の自分が読んでもわかりやすいこと．

#### 簡潔

* 長すぎず複雑すぎず．
* 1つの関数の長さは画面スクロールせずに見渡せる程度．
* 1つのファイルに同じ目的を持つ変数群だけが含まれていること．

#### 明快な命名

* 関数やファイルの名前は簡潔かつ包括的な（＝漏れのない）サマリーであること．

### 本質志向

保守しやすいプログラムを作ること

#### 分割・凝集・集約

* システムは小さな要素に分割
* モジュールの機能・責務を絞り込もう（凝集）
* 似た処理や変数，目的を同じにする処理や変数が色々な場所に散らばらないこと（集約）

### 洗練された階層

* モジュール間の連携がわかりやすいこと
* 2階層ルール
  * エディタ上で見えるのは2階層だけ

## 良いコードを見る

* ファイル名・関数名・変数名から責務が見えてくる
  * 名前から想像できる通りの単一責務を果たす
* 変数がカプセル化されている
  * 他のファイルに公開することのない変数は`static`宣言
* 状況や状態が漏れなく分類・定義されている
* 関数が短く簡潔
* 不要な変数を渡さない
* 深くまで追わなくても動きを予測できる